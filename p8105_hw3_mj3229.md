Homework 3
================

Mahitha Jangeti 10/13/25

``` r
library(tidyverse)
```

    ## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
    ## ✔ dplyr     1.1.4     ✔ readr     2.1.5
    ## ✔ forcats   1.0.0     ✔ stringr   1.5.1
    ## ✔ ggplot2   3.5.2     ✔ tibble    3.3.0
    ## ✔ lubridate 1.9.4     ✔ tidyr     1.3.1
    ## ✔ purrr     1.1.0     
    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## ✖ dplyr::filter() masks stats::filter()
    ## ✖ dplyr::lag()    masks stats::lag()
    ## ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors

## Problem 1

**Loading dataset and creating plot**

``` r
library(p8105.datasets)
data("instacart")

instacart_df = instacart
```

``` r
instacart_df %>% 
  group_by(aisle) %>% 
  summarize(n_obs = n()) %>% 
  mutate(aisle_rank = min_rank(desc(n_obs))) %>% 
  arrange(aisle_rank) %>% 
  filter(n_obs > 10000) %>% 
  ggplot(aes(x = aisle, y = n_obs)) +
  geom_col() +
  coord_flip() +
  labs(
    title = "Number of Items Ordered in each Aisle",
    x = "Aisle Name",
    y = "Number of Items Ordered"
  )
```

![](p8105_hw3_mj3229_files/figure-gfm/unnamed-chunk-2-1.png)<!-- -->

**Creating Tables**

``` r
instacart_df %>% 
  filter(aisle %in% c("baking ingredients")) %>% 
  group_by(aisle, product_name) %>% 
  summarize(n_baking =n()) %>% 
  mutate(baking_rank = min_rank(desc(n_baking))) %>% 
  arrange(baking_rank)
```

    ## `summarise()` has grouped output by 'aisle'. You can override using the
    ## `.groups` argument.

    ## # A tibble: 523 × 4
    ## # Groups:   aisle [1]
    ##    aisle              product_name                          n_baking baking_rank
    ##    <chr>              <chr>                                    <int>       <int>
    ##  1 baking ingredients Light Brown Sugar                          499           1
    ##  2 baking ingredients Pure Baking Soda                           387           2
    ##  3 baking ingredients Cane Sugar                                 336           3
    ##  4 baking ingredients Premium Pure Cane Granulated Sugar         329           4
    ##  5 baking ingredients Organic Vanilla Extract                    327           5
    ##  6 baking ingredients Organic Unbleached All-Purpose Flour       291           6
    ##  7 baking ingredients All Purpose Flour                          277           7
    ##  8 baking ingredients 100% Pure Pumpkin                          247           8
    ##  9 baking ingredients Organic Cane Sugar                         244           9
    ## 10 baking ingredients Toll House Semi-Sweet Chocolate Mors…      206          10
    ## # ℹ 513 more rows

``` r
instacart_df %>% 
  filter(aisle %in% c("dog food care")) %>% 
  group_by(aisle, product_name) %>% 
  summarize(n_dog =n()) %>% 
  mutate(dog_rank = min_rank(desc(n_dog))) %>% 
  arrange(dog_rank)
```

    ## `summarise()` has grouped output by 'aisle'. You can override using the
    ## `.groups` argument.

    ## # A tibble: 355 × 4
    ## # Groups:   aisle [1]
    ##    aisle         product_name                                     n_dog dog_rank
    ##    <chr>         <chr>                                            <int>    <int>
    ##  1 dog food care Snack Sticks Chicken & Rice Recipe Dog Treats       30        1
    ##  2 dog food care Organix Chicken & Brown Rice Recipe                 28        2
    ##  3 dog food care Small Dog Biscuits                                  26        3
    ##  4 dog food care Standard Size Pet Waste bags                        25        4
    ##  5 dog food care Organix Grain Free Chicken & Vegetable Dog Food     24        5
    ##  6 dog food care Chicken & Vegetable Snack Sticks for Dogs           23        6
    ##  7 dog food care Select Tender Chicken with Vegetables & Brown R…    22        7
    ##  8 dog food care Strips Bacon Flavor Bacon Dog Snacks                22        7
    ##  9 dog food care Original Dry Dog                                    20        9
    ## 10 dog food care Dog Snacks, Medium                                  19       10
    ## # ℹ 345 more rows

``` r
instacart_df %>% 
  filter(aisle %in% c("packaged vegetables fruits")) %>% 
  group_by(aisle, product_name) %>% 
  summarize(n_packaged =n()) %>% 
  mutate(packaged_rank = min_rank(desc(n_packaged))) %>% 
  arrange(packaged_rank)
```

    ## `summarise()` has grouped output by 'aisle'. You can override using the
    ## `.groups` argument.

    ## # A tibble: 566 × 4
    ## # Groups:   aisle [1]
    ##    aisle                      product_name              n_packaged packaged_rank
    ##    <chr>                      <chr>                          <int>         <int>
    ##  1 packaged vegetables fruits Organic Baby Spinach            9784             1
    ##  2 packaged vegetables fruits Organic Raspberries             5546             2
    ##  3 packaged vegetables fruits Organic Blueberries             4966             3
    ##  4 packaged vegetables fruits Seedless Red Grapes             4059             4
    ##  5 packaged vegetables fruits Organic Grape Tomatoes          3823             5
    ##  6 packaged vegetables fruits Organic Baby Carrots            3597             6
    ##  7 packaged vegetables fruits Organic Baby Arugula            2923             7
    ##  8 packaged vegetables fruits Organic Peeled Whole Bab…       2460             8
    ##  9 packaged vegetables fruits Red Raspberries                 1493             9
    ## 10 packaged vegetables fruits Clementines, Bag                1478            10
    ## # ℹ 556 more rows

\*\*There are 134 aisles with most items order from the fresh
vegetables, fresh fruits, and packed vegetables fruits aisles. Top three
products in baking ingredients are light brown sugar, pure baking soda,
and cane sugar. Top three products in dog food care are snack sticks
chicken & rice recipe dog treats, organix chicken & brown rice recipe,
and small dog biscuits. Lastly, the top three products in packaged
vegetables fruits are organic baby spinach, organic raspberries, and
organic blueberries.
